---
title: 项目介绍
date: 2019-03-19 16:58:47
tags:
	- 项目
    - 面试
---

# 基于计算机视觉的人体姿态估计平台 （项目负责人）

## 项目简介：
本项目来源是北京邮电大学的创新创业项目，主要目的是为了搭建基于人体姿态估计算法的平台，为用户在家中使用普通的2D摄像头，辅助进行健身和康复训练提供检测和指导。项目的前身设计较为简单，但获得了学校的研究生创新创业大赛的一等奖。

## 项目架构：
本项目是分层设计的，最上层是 应用层，包括健康医疗系统，和正在搭建的健身指导系统； 算法层是实验室负责算法的同学改进的基于计算机视觉的一些算法实现，包括了改进后的人脸检测识别，人体姿态估计算法，后期还会加入的动作检测等；负责连接这两部分的是 中间的能力开放平台：该层负责将视觉识别算法封装成各种能力API的形式，提供基于图片和视频的服务，供上层应用使用。

## 技术选型：
算法层大多基于python实现，人体姿态估计算法是基于resnet改进的，能完成多人的姿态估计；其他算法未参与设计。
能力开放平台采用的：基于java的 SpringBoot+Mybatis框架的含前后端的web系统，后续准备改进为微服务架构。上层应用也是基于javaWeb搭建的。 

## 亮点：
算法层与平台之间的 连续视频通信采用的基于Redis的消息中间件，采用订阅者发布者模式, 订阅两个channel，互相推送图片(base64)信息。好处：1.解耦了两个系统，弹性的资源控制。 2.异步消息队列，确保了任务的先入先出


# 国家电网能力开放平台 （项目核心成员）

## 项目简介：
北邮与国家电网合作的，面向 ISP 和 ISV 设计开发的能力开放平台。能有效整合服务资源，通过能力开放的形式吸引服务提供商在平台完成注册、发布API，并与应用开发方建立商业联系。平台则需完成对ISP、ISV的服务监管和计量计费。

## 项目架构：
基于微服务架构设计，分为 协议转换模块、接入控制模块 和 平台管理模块。

## 主要负责：
主要负责与国家电网南瑞子公司进行需求对接，并且主导了整体架构微服务的设计。完成了 “协议转换模块”，“流量控制模块”、“权限控制模块”、“计费模块的设计与实现”。

 * 协议转换模块：因为系统之间通信使用的基于阿里的 HSF 通信协议，所以需要将 http接口转换为 hsf需要的接口样式。对于用户的http调用，采用的 Spring AOP 做了一个拦截，具体采用的 Around方法，在调用之前，调用之中，调用之后分别对请求做了一些操作。

 * 接入控制模块：对应协议控制模块中的拦截之前，对用户请求做了：鉴权、流控。 在请求之后，做了计量计费操作。

    * 鉴权：用户表，角色表，权限表，可见的菜单表、页面元素、文件表。

    * 限流：基于 Redis + Lua 脚本，实现了基于固定时间分片的分布式限流，针对每个ISV应用进行控制，redis的key是 AppId_ApiId_Second 做key， 访问次数为 value, 每两秒钟过期，用于检测一秒内的访问控制。

    * 计费：采用是工厂模式，产生三种计费方式：“按照时间计费（包年包月）”、“按照流量计费”、“按照次数计费”。

## 亮点：

* 设计模式：

    * 代理模式：协议转换和访问控制模块之间采用了 代理模式。整个协议控制模块都相当于中介。使用了AOP对原始方法做了处理；AOP本身利用反射对目标方法使用了 动态代理代理模式。

    * 策略模式：定义一系列 控制算法，并且使得他们之间可以互换。访问控制模块使用该设计模式，分为 “正常状态下的访问” 和 “测试状态下的访问”，这两种不同的状态 包含了 不同的控制策略，“正常状态下的访问”：鉴权、流控、计费。 “测试状态下的访问”：鉴权、流控，不包含计费。 利用 Spring 将这些策略注入到 不同的 List中，然后依次进行调用。

    * 工厂模式：将“包年包月计费”、“按照流量计费”、“按照次数计费”实现同一个接口，并用工厂类，利用反射来调用这些计费方式。

* 微服务（结合项目）：

    * 多个模块独立部署：对于不同的模块，进行不同方向上的拓展。项目中：协议转换模块承载最大的用户接入 需要做 X轴拓展,通过负载均衡，对请求进行分发。而访问控制模块则分为不同的小模块，可以做数据库的Y轴业务上的拓展（功能性拆分）。**可以按照服务对硬件资源不同的需求进行升级！**

    * 模块解耦，本项目是采用的基于RPC的 HSF协议进行模块之间的通信。面向连接。HSF是阿里内部使用的模块间通信的方式，我之前没有使用过，短期的学习能力。调通分布式模块之间通信的问题是，我遇到的比较大的一个难题。通过分析Edas平台各个服务IP地址和服务端口，以及redis日志文件，判断到最后是因为一个模块之中的redis地址出错导致没有启动redis。引发的后续通信的问题。体现了排错能力和自主解决问题的能力。


# 1Coach：基于SpringBoot+MyBatis的跑姿管理系统 （系统后台负责人）

## 项目简介：
深圳趣感科技公司（创业公司）开发的一款穿戴式跑步训练指导系统，通过传感器采集人体运动数据，对跑步姿态进行科学的评估，根据评估结果生成个性化的力量训练和跑姿改善计划，并实施的检测完成度 和 完成质量。

# Motion Capture:基于数据手套的智能医疗康复系统（项目核心成员）
1. unity部分的设计与实现（c#编程）
2. unity与控制中心的通信（socket通信）
3. 前端界面实时变化的元素设计（后端发送 websocket）


# 天池阿里巴巴大数据智能云上编程（应用部分）

## 比赛介绍：

阿里巴巴云上智能编程大赛，主要解决 由于混沌现象导致的降水量难以精准预测的问题。具体是解决：杭州市某地区 降水量预测的问题。首先利用该地区61*61区域内的历史降水数据预测出该区域内某一天的降水情况，然后以 web 应用的形式展现出来，形式不限。

比赛的经历很坎坷：初赛算法进入前20，复赛排名 算法第10，应用排名第1，综合排名第3，决赛算法和应用排名双第1。

## 系统架构：

* PAI平台：机器学习深度学习的算法平台。利用数加平台构造的特征设计出了算法模型：先GBDT回归 + 再RF多分类来解决。具体算法部分不是我设计的。

* 数加平台：数据处理的SQL平台。利用数加平台提供的数据，构造出了相关特征：时间特征（该地区一组50个member的统计特征）、空间特征（空间划分成相邻区域，区域之间带有降水的连续性）、时空交叉特征（该地区前一组降水情况，该地区相邻地区的降水统计情况）。

* APP Studio平台：应用编写平台。应用设计与编写部分比较花心思，也取得了比较好的效果。利用 APP Studio这个不太成熟的平台（一边code，一边给官方报错），我们设计出了展现形式比较丰富的应用。主要有：
  
    * 集合降水预测模块：这是平台的主要模块，利用了 “OSS数据缓存 + PAI平台暴露的API接口 + 3D echart组件” 完成。每日先从公共 OSS空间 load数据到本地，并使用java处理数据提取特征，将当日数据提供给PAI平台进行 算法模块的预测，并将预测结果保存在 OSS 私有地址中。 第二次以后的请求，则直接从OSS模块中获取 预测的数据并进行展示。 前端采用 “echart 3D 立体柱状图”来对该 61*61的区域做展示。可以明显的 观察到 降水的局部分布的变化特性，受到了 “云栖大会”决赛组评委的一致好评。

    * 认证与鉴权模块：利用“shrio” 做了用户注册和登录功能，登录用户可以调用更多功能，为以后系统的“用户、角色、权限”的拓展打好基础。

    * 普通天气预报模块：调用第三方接口+爬虫。 我们订阅了阿里云市场里面的天气预报收费接口提供的服务，以及墨迹天气、中国天气网提供的各城市的天气数据，进行整合设计，做出了可以根据“城市”来查询天气的界面，“今日空气指数”、“未来5日AQI折线图”、“今日生活指数”、“未来15日气温、风力柱状图和雷达图” 等展示。前端采用平台提供的基于 react 的 “拖拽式 + 代码调节” 的模式完成，后端编写相应接口，并且暴露api。


* OSS 平台：数据云存储平台。 分为 公有空间 和 私有空间。 公有空间存储了所有小组都可以访问到的比赛数据，私有空间则 存放预测完的结果，作为数据缓存，加速用户查询的过程，提升用户体验。（首次PAI预测需要将近2分钟的时间）

## 主要工作：

1. 需求分析、功能设计、系统架构设计
2. 缓存oss的设计和实现
3. 前端 页面的组织、3D组件的设置 

